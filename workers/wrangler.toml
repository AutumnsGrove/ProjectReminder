name = "reminders"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# AI Binding for NLP Model
[ai]
binding = "AI"

# D1 Database Binding
[[d1_databases]]
binding = "DB"
database_name = "reminders-db"
database_id = "4c1e4710-37e9-49ae-a1ba-36eddfb1aa79"

# Environment Variables (for secrets)
[vars]
ENVIRONMENT = "production"

# Development settings
[env.development]
vars = { ENVIRONMENT = "development" }

# CORS Configuration
[build]
command = ""  # No build step, Hono handles it

# Custom routes - Required for Cloudflare Access authentication to work
# The API must be served from the same domain as the frontend, or a subdomain
# protected by the same Access Application
routes = [
  { pattern = "reminders.grove.place/api/*", zone_name = "grove.place" }
]
